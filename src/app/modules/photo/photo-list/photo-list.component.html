<div class="container-fluid p-5">
    <h1>Albums</h1>
    <form [formGroup]="filterForm">
        <spinner [visible]="albumLoading"></spinner>
        <div class="form-group form-inline">
            <input formControlName="search" class="form-control ml-2" type="text" name="searchTerm" placeholder="Search"
                (input)="onChange()" />

            <select class="ml-5 form-control" #u (change)="updateFilter({albumId: u.value})" placeholder="User"
                formControlName="user_id">
                <option [value]="0">Select a Album</option>
                <option *ngFor="let album of albums" value="{{album.id}}">{{album.title}}</option>
            </select>
            <!-- <span class="ml-3" *ngIf="service.loading$ | async">Loading...</span> -->
        </div>
        <div class="row">
            <ng-container *ngFor="let photo of pagedPhotos">

                <div class="col-12 col-sm-3  col-md-4 col-lg-2 p-2">
                    <div class="card text-center">
                        <div class="card-body p-0">
                            <img class="card-img-top" src="{{ photo.thumbnailUrl }}" alt="Card image cap">
                        </div>
                        <div class="card-footer text-muted">
                            <a class="elipses" [routerLink]="['/photos', photo.id]"> {{photo?.title}}</a>
                        </div>

                    </div>
                </div>
            </ng-container>

        </div>

        <div class="d-flex justify-content-between p-2">
            <ngb-pagination [collectionSize]="total" [maxSize]="5" [rotate]="true" [ellipses]="false" [(page)]="page"
                [pageSize]="pageSize" [boundaryLinks]="true" (pageChange)="onPageChanged($event)">
            </ngb-pagination>

            <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="pageSize"
                (change)="pageSizeChange()" [ngModelOptions]="{standalone: true}">
                <option [ngValue]="20">20 items per page</option>
                <option [ngValue]="40">40 items per page</option>
                <option [ngValue]="60">60 items per page</option>
            </select>
        </div>
    </form>
</div>
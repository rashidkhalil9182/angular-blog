<div class="container-fluid p-5">
    <h1>Albums</h1>
    <form [formGroup]="filterForm">
        <spinner [visible]="albumLoading"></spinner>
        <div class="form-group form-inline">
            <input formControlName="search" class="form-control ml-2" type="text" name="searchTerm" placeholder="Search"
                (input)="onChange()" />

            <select class="ml-5 form-control" #u (change)="updateFilter({userId: u.value})" placeholder="User"
                formControlName="user_id">
                <option [value]="0">Select a User</option>
                <option *ngFor="let user of users" value="{{user.id}}">{{user.name}}</option>
            </select>
        </div>
        <div class="row">
            <ng-container *ngFor="let album of pagedAlbums">
                <div class="col-3 p-2">
                    <div class="card text-center">
                        <div class="card-header ">
                            <a [routerLink]="['/albums', album.id]" class="elipses">{{album?.title}}</a>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-3">
                                    <ul class="ba p-0">
                                        <li>
                                            <img class="img-responsive photo-img"
                                                src="https://via.placeholder.com/150/92c952" alt="" />
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-3">
                                    <ul class="ba p-0">
                                        <li>
                                            <img class="img-responsive photo-img"
                                                src="https://via.placeholder.com/150/771796" alt="" />
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-3">
                                    <ul class="ba p-0">
                                        <li>
                                            <img class="img-responsive photo-img"
                                                src="https://via.placeholder.com/150/b0f7cc" alt="" />
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-3">
                                    <ul class="ba p-0">
                                        <li>
                                            <img class="img-responsive photo-img"
                                                src="https://via.placeholder.com/150/d32776" alt="" />
                                        </li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                        <div class="card-footer text-muted">
                            <a [routerLink]="['/users', album?.userId]">by User{{album?.userId}}</a>
                        </div>
                    </div>
                </div>
            </ng-container>

        </div>

        <div class="d-flex justify-content-between p-2">
            <ngb-pagination [collectionSize]="total" [(page)]="page" [pageSize]="pageSize" [boundaryLinks]="true"
                (pageChange)="onPageChanged($event)">
            </ngb-pagination>

            <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="pageSize"
                (change)="pageSizeChange()" [ngModelOptions]="{standalone: true}">
                <option [ngValue]="20">20 items per page</option>
                <option [ngValue]="40">40 items per page</option>
                <option [ngValue]="60">60 items per page</option>
            </select>
        </div>
    </form>
</div>